<!DOCTYPE html>
<html>
<head>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/socket.io/1.4.6/socket.io.min.js"></script>
    <script>
    $(document).ready(function(){
      console.debug("connecting to socket")
      namespace = '/test';
      try {
        var socket = io.connect('http://' + document.domain + ':' + location.port + namespace);
        console.debug("after creating socket")
        socket.on('my response', function(msg) {
          console.debug('Received: ' + msg.data);
          // socket.emit('my_event', {data: 'I\'m connected!'});
          // console.debug('after emit: ');
        });
      } catch(e) {
        console.error(`got error ${e}`)
      }
      console.debug("after connecting to socket")
    })
    </script>

</head>
<body>
<div class="jumbotron">
    <h1>Asynchronous Flask Communication</h1>
</div>

<div class="container" id="content">
    <div class="row">
        <p>Asynchronous page updates will appear here:</p>
        <h3>Number list:</h3>
        <div id="log">
    </div>
</div>


</div>

</body>
</html>
